{% extends 'partials/base.html' %}
{% load widget_tweaks %}
{% load django_bootstrap5 %}
{% block title %}{% endblock %}
{% block content %}

    <div class="container align-center p-5" style="max-width: 600px; margin: auto">
        <h2>Signup</h2>

        <form method="post" action="{% url 'signup' %}" autocomplete="off">
            {% csrf_token %}
            <div class="form-group mb-3">
                <label>{{ form.username.label_tag }}</label>
                {{ form.username.errors }}
                {% render_field form.username class='form-control' hx-post="/accounts/check_username/" hx-swap="outerhtml" hx-trigger="keyup" hx-target="#username-error" %}
                <div id="username-error"></div>

                <label class="mt-3">{{ form.email.label_tag }}</label>
                {{ form.email.errors }}
                {% render_field form.email class='form-control' %}

                <label class="mt-3">{{ form.password1.label_tag }}</label>
                {{ form.password1.errors }}
                {% render_field form.password1 class='form-control' %}

                <label class="mt-3">{{ form.password2.label_tag }}</label>
                {{ form.password2.errors }}
                {% render_field form.password2 class='form-control' %}


            </div>

            {% bootstrap_button button_type="submit" content="Register" button_class='btn-secondary text-light' %}

        </form>
        <br>
        <a href="{% url 'login' %}" class="link-secondary">Log in</a>

    </div>

{% endblock %}
